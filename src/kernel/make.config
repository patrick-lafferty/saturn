kernel_CXX_FLAGS = -mno-red-zone -mcmodel=kernel
kernel_OBJECTS =  \
	src/kernel/saturn.o 

TARGETS += kernel
BINARIES += saturn.bin
OBJECTS += $(kernel_OBJECTS)
LINK_LIST = $(kernel_OBJECTS) #\
	#$(ARCHDIR)/crti.o \
	#$(shell $(CC) $(CFLAGS) -m32 -print-file-name=crtbegin.o) \
    $(kernel_OBJECTS) \
	#$(shell $(CC) $(CFLAGS) -m32 -print-file-name=crtend.o) \
	#$(ARCHDIR)/crtn.o

LDFLAGS = -g

saturn.bin: dependency_directories $(kernel_OBJECTS) $(ARCHDIR)/linker.ld
	$(LD) -T $(ARCHDIR)/linker.ld -o sysroot/system/boot/$@ $(GLOBAL_LD_FLAGS) $(LINK_LIST)